candidate.name=upendra
candidate.regNo=22bce9876
candidate.email=upendra.22bce9876@vitapstudent.ac.in

    # SQL solution for Question 1 (placeholder)
sql.solution.q1=SELECT 'QUESTION_1_NOT_USED_FOR_THIS_CANDIDATE';

    # SQL solution for Question 2 (from given PDF)
    # For every department, calculate average age of employees with salary > 70000
    # and a comma-separated list of up to 10 employee names (FIRST_NAME LAST_NAME),
    # ordered by department_id in descending order.
#sql.solution.q2=WITH emp_pay AS ( SELECT DISTINCT e.emp_id, e.first_name, e.last_name, e.dob, e.department FROM employee e JOIN payments p ON p.emp_id = e.emp_id WHERE p.amount > 70000 ), emp_age AS ( SELECT ep.emp_id, ep.first_name, ep.last_name, ep.department, EXTRACT(YEAR FROM age(CURRENT_DATE, ep.dob))::numeric AS age FROM emp_pay ep ), ranked AS ( SELECT d.department_id, d.department_name, ea.first_name, ea.last_name, ea.age, ROW_NUMBER() OVER (PARTITION BY d.department_id ORDER BY ea.first_name, ea.last_name) AS rn FROM emp_age ea JOIN department d ON d.department_id = ea.department ) SELECT department_name AS department_name, AVG(age) AS average_age, STRING_AGG(first_name || ' ' || last_name, ', ' ORDER BY first_name, last_name) AS employee_list FROM ranked WHERE rn <= 10 GROUP BY department_id, department_name ORDER BY department_id DESC;
sql.solution.q2=upendraas
    # H2 in-memory DB configuration
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
    spring.datasource.password=
    spring.jpa.hibernate.ddl-auto=update
    spring.h2.console.enabled=true

    logging.level.root=INFO
